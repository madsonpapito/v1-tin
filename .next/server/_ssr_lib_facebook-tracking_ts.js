"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_lib_facebook-tracking_ts";
exports.ids = ["_ssr_lib_facebook-tracking_ts"];
exports.modules = {

/***/ "(ssr)/./lib/facebook-tracking.ts":
/*!**********************************!*\
  !*** ./lib/facebook-tracking.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildHashedUserData: () => (/* binding */ buildHashedUserData),\n/* harmony export */   hashSHA256: () => (/* binding */ hashSHA256),\n/* harmony export */   normalizeCity: () => (/* binding */ normalizeCity),\n/* harmony export */   normalizeCountry: () => (/* binding */ normalizeCountry),\n/* harmony export */   normalizeDateOfBirth: () => (/* binding */ normalizeDateOfBirth),\n/* harmony export */   normalizeEmail: () => (/* binding */ normalizeEmail),\n/* harmony export */   normalizeGender: () => (/* binding */ normalizeGender),\n/* harmony export */   normalizeName: () => (/* binding */ normalizeName),\n/* harmony export */   normalizePhone: () => (/* binding */ normalizePhone),\n/* harmony export */   normalizeState: () => (/* binding */ normalizeState),\n/* harmony export */   normalizeZipCode: () => (/* binding */ normalizeZipCode),\n/* harmony export */   pushToDataLayer: () => (/* binding */ pushToDataLayer)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n// lib/facebook-tracking.ts\n// Utilitário para enviar dados enriquecidos para o dataLayer do GTM\n// para serem capturados pela Conversions API do Facebook\n\n/**\r\n * Aplica hash SHA256 a um valor (normalizado)\r\n */ function hashSHA256(value) {\n    if (!value) return '';\n    return (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(value.toLowerCase().trim()).digest('hex');\n}\n/**\r\n * Normaliza email para o formato do Facebook\r\n */ function normalizeEmail(email) {\n    if (!email) return '';\n    return email.toLowerCase().trim();\n}\n/**\r\n * Normaliza telefone para o formato do Facebook\r\n * Remove símbolos e garante código do país\r\n */ function normalizePhone(phone, countryCode = '55') {\n    if (!phone) return '';\n    // Remove tudo que não é número\n    let cleaned = phone.replace(/\\D/g, '');\n    // Remove zeros à esquerda\n    cleaned = cleaned.replace(/^0+/, '');\n    // Adiciona código do país se não existir\n    if (!cleaned.startsWith(countryCode)) {\n        cleaned = countryCode + cleaned;\n    }\n    return cleaned;\n}\n/**\r\n * Normaliza nome (primeiro nome ou sobrenome)\r\n */ function normalizeName(name) {\n    if (!name) return '';\n    return name.toLowerCase().trim().replace(/[^a-záàâãéèêíïóôõöúüç]/gi, '');\n}\n/**\r\n * Normaliza cidade\r\n */ function normalizeCity(city) {\n    if (!city) return '';\n    return city.toLowerCase().trim().replace(/[^a-záàâãéèêíïóôõöúüç]/gi, '');\n}\n/**\r\n * Normaliza estado para código de 2 caracteres\r\n */ function normalizeState(state) {\n    if (!state) return '';\n    return state.toLowerCase().trim().substring(0, 2);\n}\n/**\r\n * Converte nome do país para código ISO 3166-1 alpha-2\r\n */ function normalizeCountry(country) {\n    if (!country) return '';\n    const countryMap = {\n        'brazil': 'br',\n        'brasil': 'br',\n        'united states': 'us',\n        'usa': 'us',\n        'portugal': 'pt',\n        'spain': 'es',\n        'espanha': 'es',\n        'argentina': 'ar',\n        'mexico': 'mx',\n        'méxico': 'mx',\n        'chile': 'cl',\n        'colombia': 'co',\n        'colômbia': 'co',\n        'peru': 'pe',\n        'venezuela': 've',\n        'uruguay': 'uy',\n        'paraguai': 'py',\n        'paraguay': 'py'\n    };\n    const normalized = country.toLowerCase().trim();\n    return countryMap[normalized] || normalized.substring(0, 2).toLowerCase();\n}\n/**\r\n * Normaliza CEP\r\n */ function normalizeZipCode(zipCode) {\n    if (!zipCode) return '';\n    // Remove hífen e espaços, pega primeiros 5 dígitos\n    return zipCode.replace(/[-\\s]/g, '').substring(0, 8).toLowerCase();\n}\n/**\r\n * Normaliza gênero para formato do Facebook (m/f)\r\n */ function normalizeGender(gender) {\n    if (!gender) return '';\n    const g = gender.toLowerCase().trim();\n    if (g === 'male' || g === 'masculino' || g === 'm' || g === 'homem') return 'm';\n    if (g === 'female' || g === 'feminino' || g === 'f' || g === 'mulher') return 'f';\n    return '';\n}\n/**\r\n * Normaliza data de nascimento para formato YYYYMMDD\r\n */ function normalizeDateOfBirth(dob) {\n    if (!dob) return '';\n    let date;\n    if (typeof dob === 'string') {\n        date = new Date(dob);\n    } else {\n        date = dob;\n    }\n    if (isNaN(date.getTime())) return '';\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}${month}${day}`;\n}\n/**\r\n * Constrói objeto user_data com hashing aplicado conforme especificação do Facebook\r\n */ function buildHashedUserData(params) {\n    const userData = {};\n    if (params.email) {\n        userData.em = hashSHA256(normalizeEmail(params.email));\n    }\n    if (params.phone) {\n        userData.ph = hashSHA256(normalizePhone(params.phone));\n    }\n    if (params.firstName) {\n        userData.fn = hashSHA256(normalizeName(params.firstName));\n    }\n    if (params.lastName) {\n        userData.ln = hashSHA256(normalizeName(params.lastName));\n    }\n    if (params.gender) {\n        const normalizedGender = normalizeGender(params.gender);\n        if (normalizedGender) {\n            userData.ge = hashSHA256(normalizedGender);\n        }\n    }\n    if (params.dateOfBirth) {\n        const normalizedDob = normalizeDateOfBirth(params.dateOfBirth);\n        if (normalizedDob) {\n            userData.db = hashSHA256(normalizedDob);\n        }\n    }\n    if (params.city) {\n        userData.ct = hashSHA256(normalizeCity(params.city));\n    }\n    if (params.state) {\n        userData.st = hashSHA256(normalizeState(params.state));\n    }\n    if (params.zipCode) {\n        userData.zp = hashSHA256(normalizeZipCode(params.zipCode));\n    }\n    if (params.country) {\n        userData.country = hashSHA256(normalizeCountry(params.country));\n    }\n    if (params.externalId) {\n        userData.external_id = hashSHA256(params.externalId);\n    }\n    // Estes NÃO devem ter hash\n    if (params.clientIpAddress) {\n        userData.client_ip_address = params.clientIpAddress;\n    }\n    if (params.clientUserAgent) {\n        userData.client_user_agent = params.clientUserAgent;\n    }\n    if (params.fbc) {\n        userData.fbc = params.fbc;\n    }\n    if (params.fbp) {\n        userData.fbp = params.fbp;\n    }\n    return userData;\n}\n/**\r\n * Envia evento para o dataLayer do GTM com dados do usuário para Facebook CAPI\r\n */ function pushToDataLayer(eventName, userData, customData) {\n    if (true) return;\n    // @ts-ignore - dataLayer é injetado pelo GTM\n    window.dataLayer = window.dataLayer || [];\n    const hashedUserData = buildHashedUserData(userData);\n    // @ts-ignore\n    window.dataLayer.push({\n        event: eventName,\n        user_data: hashedUserData,\n        custom_data: customData || {},\n        event_time: Math.floor(Date.now() / 1000),\n        event_source_url: window.location.href,\n        action_source: 'website'\n    });\n    console.log(`[FB Tracking] Event \"${eventName}\" pushed to dataLayer`, {\n        user_data: hashedUserData,\n        custom_data: customData\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNaQyxTQUFpQixFQUNqQnhCLFFBQXdCLEVBQ3hCeUIsVUFBZ0M7SUFFaEMsSUFBSSxJQUE2QixFQUFFO0lBRW5DLDZDQUE2QztJQUM3Q0MsT0FBT0MsU0FBUyxHQUFHRCxPQUFPQyxTQUFTLElBQUksRUFBRTtJQUV6QyxNQUFNQyxpQkFBaUI5QixvQkFBb0JFO0lBRTNDLGFBQWE7SUFDYjBCLE9BQU9DLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDO1FBQ2xCQyxPQUFPTjtRQUNQTyxXQUFXSDtRQUNYSSxhQUFhUCxjQUFjLENBQUM7UUFDNUJRLFlBQVlDLEtBQUtDLEtBQUssQ0FBQ2hELEtBQUtpRCxHQUFHLEtBQUs7UUFDcENDLGtCQUFrQlgsT0FBT1ksUUFBUSxDQUFDQyxJQUFJO1FBQ3RDQyxlQUFlO0lBQ25CO0lBRUFDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixFQUFFbEIsVUFBVSxxQkFBcUIsQ0FBQyxFQUFFO1FBQ2xFTyxXQUFXSDtRQUNYSSxhQUFhUDtJQUNqQjtBQUNKIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG1hZHNvXFx0aW5kZXItemFwLWluc3RhIChpbmdsZXMpXFxsaWJcXGZhY2Vib29rLXRyYWNraW5nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9mYWNlYm9vay10cmFja2luZy50c1xyXG4vLyBVdGlsaXTDoXJpbyBwYXJhIGVudmlhciBkYWRvcyBlbnJpcXVlY2lkb3MgcGFyYSBvIGRhdGFMYXllciBkbyBHVE1cclxuLy8gcGFyYSBzZXJlbSBjYXB0dXJhZG9zIHBlbGEgQ29udmVyc2lvbnMgQVBJIGRvIEZhY2Vib29rXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSAnY3J5cHRvJztcclxuXHJcbi8qKlxyXG4gKiBBcGxpY2EgaGFzaCBTSEEyNTYgYSB1bSB2YWxvciAobm9ybWFsaXphZG8pXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaGFzaFNIQTI1Nih2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghdmFsdWUpIHJldHVybiAnJztcclxuICAgIHJldHVybiBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUodmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkpLmRpZ2VzdCgnaGV4Jyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBOb3JtYWxpemEgZW1haWwgcGFyYSBvIGZvcm1hdG8gZG8gRmFjZWJvb2tcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVFbWFpbChlbWFpbDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghZW1haWwpIHJldHVybiAnJztcclxuICAgIHJldHVybiBlbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE5vcm1hbGl6YSB0ZWxlZm9uZSBwYXJhIG8gZm9ybWF0byBkbyBGYWNlYm9va1xyXG4gKiBSZW1vdmUgc8OtbWJvbG9zIGUgZ2FyYW50ZSBjw7NkaWdvIGRvIHBhw61zXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUGhvbmUocGhvbmU6IHN0cmluZywgY291bnRyeUNvZGU6IHN0cmluZyA9ICc1NScpOiBzdHJpbmcge1xyXG4gICAgaWYgKCFwaG9uZSkgcmV0dXJuICcnO1xyXG4gICAgLy8gUmVtb3ZlIHR1ZG8gcXVlIG7Do28gw6kgbsO6bWVyb1xyXG4gICAgbGV0IGNsZWFuZWQgPSBwaG9uZS5yZXBsYWNlKC9cXEQvZywgJycpO1xyXG4gICAgLy8gUmVtb3ZlIHplcm9zIMOgIGVzcXVlcmRhXHJcbiAgICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9eMCsvLCAnJyk7XHJcbiAgICAvLyBBZGljaW9uYSBjw7NkaWdvIGRvIHBhw61zIHNlIG7Do28gZXhpc3RpclxyXG4gICAgaWYgKCFjbGVhbmVkLnN0YXJ0c1dpdGgoY291bnRyeUNvZGUpKSB7XHJcbiAgICAgICAgY2xlYW5lZCA9IGNvdW50cnlDb2RlICsgY2xlYW5lZDtcclxuICAgIH1cclxuICAgIHJldHVybiBjbGVhbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogTm9ybWFsaXphIG5vbWUgKHByaW1laXJvIG5vbWUgb3Ugc29icmVub21lKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghbmFtZSkgcmV0dXJuICcnO1xyXG4gICAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCkucmVwbGFjZSgvW15hLXrDocOgw6LDo8Opw6jDqsOtw6/Ds8O0w7XDtsO6w7zDp10vZ2ksICcnKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE5vcm1hbGl6YSBjaWRhZGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVDaXR5KGNpdHk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIWNpdHkpIHJldHVybiAnJztcclxuICAgIHJldHVybiBjaXR5LnRvTG93ZXJDYXNlKCkudHJpbSgpLnJlcGxhY2UoL1teYS16w6HDoMOiw6PDqcOow6rDrcOvw7PDtMO1w7bDusO8w6ddL2dpLCAnJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBOb3JtYWxpemEgZXN0YWRvIHBhcmEgY8OzZGlnbyBkZSAyIGNhcmFjdGVyZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVTdGF0ZShzdGF0ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGlmICghc3RhdGUpIHJldHVybiAnJztcclxuICAgIHJldHVybiBzdGF0ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKS5zdWJzdHJpbmcoMCwgMik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0ZSBub21lIGRvIHBhw61zIHBhcmEgY8OzZGlnbyBJU08gMzE2Ni0xIGFscGhhLTJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVDb3VudHJ5KGNvdW50cnk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIWNvdW50cnkpIHJldHVybiAnJztcclxuXHJcbiAgICBjb25zdCBjb3VudHJ5TWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgICdicmF6aWwnOiAnYnInLFxyXG4gICAgICAgICdicmFzaWwnOiAnYnInLFxyXG4gICAgICAgICd1bml0ZWQgc3RhdGVzJzogJ3VzJyxcclxuICAgICAgICAndXNhJzogJ3VzJyxcclxuICAgICAgICAncG9ydHVnYWwnOiAncHQnLFxyXG4gICAgICAgICdzcGFpbic6ICdlcycsXHJcbiAgICAgICAgJ2VzcGFuaGEnOiAnZXMnLFxyXG4gICAgICAgICdhcmdlbnRpbmEnOiAnYXInLFxyXG4gICAgICAgICdtZXhpY28nOiAnbXgnLFxyXG4gICAgICAgICdtw6l4aWNvJzogJ214JyxcclxuICAgICAgICAnY2hpbGUnOiAnY2wnLFxyXG4gICAgICAgICdjb2xvbWJpYSc6ICdjbycsXHJcbiAgICAgICAgJ2NvbMO0bWJpYSc6ICdjbycsXHJcbiAgICAgICAgJ3BlcnUnOiAncGUnLFxyXG4gICAgICAgICd2ZW5lenVlbGEnOiAndmUnLFxyXG4gICAgICAgICd1cnVndWF5JzogJ3V5JyxcclxuICAgICAgICAncGFyYWd1YWknOiAncHknLFxyXG4gICAgICAgICdwYXJhZ3VheSc6ICdweScsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBjb3VudHJ5LnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG4gICAgcmV0dXJuIGNvdW50cnlNYXBbbm9ybWFsaXplZF0gfHwgbm9ybWFsaXplZC5zdWJzdHJpbmcoMCwgMikudG9Mb3dlckNhc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE5vcm1hbGl6YSBDRVBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVaaXBDb2RlKHppcENvZGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIXppcENvZGUpIHJldHVybiAnJztcclxuICAgIC8vIFJlbW92ZSBow61mZW4gZSBlc3Bhw6dvcywgcGVnYSBwcmltZWlyb3MgNSBkw61naXRvc1xyXG4gICAgcmV0dXJuIHppcENvZGUucmVwbGFjZSgvWy1cXHNdL2csICcnKS5zdWJzdHJpbmcoMCwgOCkudG9Mb3dlckNhc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE5vcm1hbGl6YSBnw6puZXJvIHBhcmEgZm9ybWF0byBkbyBGYWNlYm9vayAobS9mKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUdlbmRlcihnZW5kZXI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoIWdlbmRlcikgcmV0dXJuICcnO1xyXG4gICAgY29uc3QgZyA9IGdlbmRlci50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcclxuICAgIGlmIChnID09PSAnbWFsZScgfHwgZyA9PT0gJ21hc2N1bGlubycgfHwgZyA9PT0gJ20nIHx8IGcgPT09ICdob21lbScpIHJldHVybiAnbSc7XHJcbiAgICBpZiAoZyA9PT0gJ2ZlbWFsZScgfHwgZyA9PT0gJ2ZlbWluaW5vJyB8fCBnID09PSAnZicgfHwgZyA9PT0gJ211bGhlcicpIHJldHVybiAnZic7XHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBOb3JtYWxpemEgZGF0YSBkZSBuYXNjaW1lbnRvIHBhcmEgZm9ybWF0byBZWVlZTU1ERFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZURhdGVPZkJpcnRoKGRvYjogc3RyaW5nIHwgRGF0ZSk6IHN0cmluZyB7XHJcbiAgICBpZiAoIWRvYikgcmV0dXJuICcnO1xyXG5cclxuICAgIGxldCBkYXRlOiBEYXRlO1xyXG4gICAgaWYgKHR5cGVvZiBkb2IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRvYik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGUgPSBkb2I7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuICcnO1xyXG5cclxuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBjb25zdCBtb250aCA9IFN0cmluZyhkYXRlLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gICAgY29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xyXG5cclxuICAgIHJldHVybiBgJHt5ZWFyfSR7bW9udGh9JHtkYXl9YDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VyRGF0YVBhcmFtcyB7XHJcbiAgICBlbWFpbD86IHN0cmluZztcclxuICAgIHBob25lPzogc3RyaW5nO1xyXG4gICAgZmlyc3ROYW1lPzogc3RyaW5nO1xyXG4gICAgbGFzdE5hbWU/OiBzdHJpbmc7XHJcbiAgICBnZW5kZXI/OiBzdHJpbmc7XHJcbiAgICBkYXRlT2ZCaXJ0aD86IHN0cmluZyB8IERhdGU7XHJcbiAgICBjaXR5Pzogc3RyaW5nO1xyXG4gICAgc3RhdGU/OiBzdHJpbmc7XHJcbiAgICB6aXBDb2RlPzogc3RyaW5nO1xyXG4gICAgY291bnRyeT86IHN0cmluZztcclxuICAgIGV4dGVybmFsSWQ/OiBzdHJpbmc7XHJcbiAgICBjbGllbnRJcEFkZHJlc3M/OiBzdHJpbmc7XHJcbiAgICBjbGllbnRVc2VyQWdlbnQ/OiBzdHJpbmc7XHJcbiAgICBmYmM/OiBzdHJpbmc7XHJcbiAgICBmYnA/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGFzaGVkVXNlckRhdGEge1xyXG4gICAgZW0/OiBzdHJpbmc7XHJcbiAgICBwaD86IHN0cmluZztcclxuICAgIGZuPzogc3RyaW5nO1xyXG4gICAgbG4/OiBzdHJpbmc7XHJcbiAgICBnZT86IHN0cmluZztcclxuICAgIGRiPzogc3RyaW5nO1xyXG4gICAgY3Q/OiBzdHJpbmc7XHJcbiAgICBzdD86IHN0cmluZztcclxuICAgIHpwPzogc3RyaW5nO1xyXG4gICAgY291bnRyeT86IHN0cmluZztcclxuICAgIGV4dGVybmFsX2lkPzogc3RyaW5nO1xyXG4gICAgY2xpZW50X2lwX2FkZHJlc3M/OiBzdHJpbmc7XHJcbiAgICBjbGllbnRfdXNlcl9hZ2VudD86IHN0cmluZztcclxuICAgIGZiYz86IHN0cmluZztcclxuICAgIGZicD86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0csOzaSBvYmpldG8gdXNlcl9kYXRhIGNvbSBoYXNoaW5nIGFwbGljYWRvIGNvbmZvcm1lIGVzcGVjaWZpY2HDp8OjbyBkbyBGYWNlYm9va1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkSGFzaGVkVXNlckRhdGEocGFyYW1zOiBVc2VyRGF0YVBhcmFtcyk6IEhhc2hlZFVzZXJEYXRhIHtcclxuICAgIGNvbnN0IHVzZXJEYXRhOiBIYXNoZWRVc2VyRGF0YSA9IHt9O1xyXG5cclxuICAgIGlmIChwYXJhbXMuZW1haWwpIHtcclxuICAgICAgICB1c2VyRGF0YS5lbSA9IGhhc2hTSEEyNTYobm9ybWFsaXplRW1haWwocGFyYW1zLmVtYWlsKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocGFyYW1zLnBob25lKSB7XHJcbiAgICAgICAgdXNlckRhdGEucGggPSBoYXNoU0hBMjU2KG5vcm1hbGl6ZVBob25lKHBhcmFtcy5waG9uZSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtcy5maXJzdE5hbWUpIHtcclxuICAgICAgICB1c2VyRGF0YS5mbiA9IGhhc2hTSEEyNTYobm9ybWFsaXplTmFtZShwYXJhbXMuZmlyc3ROYW1lKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocGFyYW1zLmxhc3ROYW1lKSB7XHJcbiAgICAgICAgdXNlckRhdGEubG4gPSBoYXNoU0hBMjU2KG5vcm1hbGl6ZU5hbWUocGFyYW1zLmxhc3ROYW1lKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocGFyYW1zLmdlbmRlcikge1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRHZW5kZXIgPSBub3JtYWxpemVHZW5kZXIocGFyYW1zLmdlbmRlcik7XHJcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWRHZW5kZXIpIHtcclxuICAgICAgICAgICAgdXNlckRhdGEuZ2UgPSBoYXNoU0hBMjU2KG5vcm1hbGl6ZWRHZW5kZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXJhbXMuZGF0ZU9mQmlydGgpIHtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkRG9iID0gbm9ybWFsaXplRGF0ZU9mQmlydGgocGFyYW1zLmRhdGVPZkJpcnRoKTtcclxuICAgICAgICBpZiAobm9ybWFsaXplZERvYikge1xyXG4gICAgICAgICAgICB1c2VyRGF0YS5kYiA9IGhhc2hTSEEyNTYobm9ybWFsaXplZERvYik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtcy5jaXR5KSB7XHJcbiAgICAgICAgdXNlckRhdGEuY3QgPSBoYXNoU0hBMjU2KG5vcm1hbGl6ZUNpdHkocGFyYW1zLmNpdHkpKTtcclxuICAgIH1cclxuICAgIGlmIChwYXJhbXMuc3RhdGUpIHtcclxuICAgICAgICB1c2VyRGF0YS5zdCA9IGhhc2hTSEEyNTYobm9ybWFsaXplU3RhdGUocGFyYW1zLnN0YXRlKSk7XHJcbiAgICB9XHJcbiAgICBpZiAocGFyYW1zLnppcENvZGUpIHtcclxuICAgICAgICB1c2VyRGF0YS56cCA9IGhhc2hTSEEyNTYobm9ybWFsaXplWmlwQ29kZShwYXJhbXMuemlwQ29kZSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtcy5jb3VudHJ5KSB7XHJcbiAgICAgICAgdXNlckRhdGEuY291bnRyeSA9IGhhc2hTSEEyNTYobm9ybWFsaXplQ291bnRyeShwYXJhbXMuY291bnRyeSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtcy5leHRlcm5hbElkKSB7XHJcbiAgICAgICAgdXNlckRhdGEuZXh0ZXJuYWxfaWQgPSBoYXNoU0hBMjU2KHBhcmFtcy5leHRlcm5hbElkKTtcclxuICAgIH1cclxuICAgIC8vIEVzdGVzIE7Dg08gZGV2ZW0gdGVyIGhhc2hcclxuICAgIGlmIChwYXJhbXMuY2xpZW50SXBBZGRyZXNzKSB7XHJcbiAgICAgICAgdXNlckRhdGEuY2xpZW50X2lwX2FkZHJlc3MgPSBwYXJhbXMuY2xpZW50SXBBZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcmFtcy5jbGllbnRVc2VyQWdlbnQpIHtcclxuICAgICAgICB1c2VyRGF0YS5jbGllbnRfdXNlcl9hZ2VudCA9IHBhcmFtcy5jbGllbnRVc2VyQWdlbnQ7XHJcbiAgICB9XHJcbiAgICBpZiAocGFyYW1zLmZiYykge1xyXG4gICAgICAgIHVzZXJEYXRhLmZiYyA9IHBhcmFtcy5mYmM7XHJcbiAgICB9XHJcbiAgICBpZiAocGFyYW1zLmZicCkge1xyXG4gICAgICAgIHVzZXJEYXRhLmZicCA9IHBhcmFtcy5mYnA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVzZXJEYXRhO1xyXG59XHJcblxyXG4vKipcclxuICogRW52aWEgZXZlbnRvIHBhcmEgbyBkYXRhTGF5ZXIgZG8gR1RNIGNvbSBkYWRvcyBkbyB1c3XDoXJpbyBwYXJhIEZhY2Vib29rIENBUElcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwdXNoVG9EYXRhTGF5ZXIoXHJcbiAgICBldmVudE5hbWU6IHN0cmluZyxcclxuICAgIHVzZXJEYXRhOiBVc2VyRGF0YVBhcmFtcyxcclxuICAgIGN1c3RvbURhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XHJcbikge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZSAtIGRhdGFMYXllciDDqSBpbmpldGFkbyBwZWxvIEdUTVxyXG4gICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XHJcblxyXG4gICAgY29uc3QgaGFzaGVkVXNlckRhdGEgPSBidWlsZEhhc2hlZFVzZXJEYXRhKHVzZXJEYXRhKTtcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICB3aW5kb3cuZGF0YUxheWVyLnB1c2goe1xyXG4gICAgICAgIGV2ZW50OiBldmVudE5hbWUsXHJcbiAgICAgICAgdXNlcl9kYXRhOiBoYXNoZWRVc2VyRGF0YSxcclxuICAgICAgICBjdXN0b21fZGF0YTogY3VzdG9tRGF0YSB8fCB7fSxcclxuICAgICAgICBldmVudF90aW1lOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSxcclxuICAgICAgICBldmVudF9zb3VyY2VfdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcclxuICAgICAgICBhY3Rpb25fc291cmNlOiAnd2Vic2l0ZScsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgW0ZCIFRyYWNraW5nXSBFdmVudCBcIiR7ZXZlbnROYW1lfVwiIHB1c2hlZCB0byBkYXRhTGF5ZXJgLCB7XHJcbiAgICAgICAgdXNlcl9kYXRhOiBoYXNoZWRVc2VyRGF0YSxcclxuICAgICAgICBjdXN0b21fZGF0YTogY3VzdG9tRGF0YSxcclxuICAgIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVIYXNoIiwiaGFzaFNIQTI1NiIsInZhbHVlIiwidXBkYXRlIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwiZGlnZXN0Iiwibm9ybWFsaXplRW1haWwiLCJlbWFpbCIsIm5vcm1hbGl6ZVBob25lIiwicGhvbmUiLCJjb3VudHJ5Q29kZSIsImNsZWFuZWQiLCJyZXBsYWNlIiwic3RhcnRzV2l0aCIsIm5vcm1hbGl6ZU5hbWUiLCJuYW1lIiwibm9ybWFsaXplQ2l0eSIsImNpdHkiLCJub3JtYWxpemVTdGF0ZSIsInN0YXRlIiwic3Vic3RyaW5nIiwibm9ybWFsaXplQ291bnRyeSIsImNvdW50cnkiLCJjb3VudHJ5TWFwIiwibm9ybWFsaXplZCIsIm5vcm1hbGl6ZVppcENvZGUiLCJ6aXBDb2RlIiwibm9ybWFsaXplR2VuZGVyIiwiZ2VuZGVyIiwiZyIsIm5vcm1hbGl6ZURhdGVPZkJpcnRoIiwiZG9iIiwiZGF0ZSIsIkRhdGUiLCJpc05hTiIsImdldFRpbWUiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aCIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkYXkiLCJnZXREYXRlIiwiYnVpbGRIYXNoZWRVc2VyRGF0YSIsInBhcmFtcyIsInVzZXJEYXRhIiwiZW0iLCJwaCIsImZpcnN0TmFtZSIsImZuIiwibGFzdE5hbWUiLCJsbiIsIm5vcm1hbGl6ZWRHZW5kZXIiLCJnZSIsImRhdGVPZkJpcnRoIiwibm9ybWFsaXplZERvYiIsImRiIiwiY3QiLCJzdCIsInpwIiwiZXh0ZXJuYWxJZCIsImV4dGVybmFsX2lkIiwiY2xpZW50SXBBZGRyZXNzIiwiY2xpZW50X2lwX2FkZHJlc3MiLCJjbGllbnRVc2VyQWdlbnQiLCJjbGllbnRfdXNlcl9hZ2VudCIsImZiYyIsImZicCIsInB1c2hUb0RhdGFMYXllciIsImV2ZW50TmFtZSIsImN1c3RvbURhdGEiLCJ3aW5kb3ciLCJkYXRhTGF5ZXIiLCJoYXNoZWRVc2VyRGF0YSIsInB1c2giLCJldmVudCIsInVzZXJfZGF0YSIsImN1c3RvbV9kYXRhIiwiZXZlbnRfdGltZSIsIk1hdGgiLCJmbG9vciIsIm5vdyIsImV2ZW50X3NvdXJjZV91cmwiLCJsb2NhdGlvbiIsImhyZWYiLCJhY3Rpb25fc291cmNlIiwiY29uc29sZSIsImxvZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./lib/facebook-tracking.ts\n");

/***/ })

};
;